<div class="searchbar-component">
  <form [formGroup]="form" #formDirective="ngForm" class="d-flex justify-content-center w-100 mt-3">
    <mat-form-field appearance="legacy" floatLabel="never" class="w-50">
      <!-- Input -->
      <input matInput type="text" placeholder="Search..." class="fs-22 py-3 pr-2" formControlName="searchQuery" />
      <!-- Date Picker -->
      <input [matDatepicker]="picker" type="hidden">
      <mat-datepicker #picker></mat-datepicker>
      <!-- Menu -->
      <div matSuffix class="d-flex base-text cursor-pointer">
        <span [matMenuTriggerFor]="menu" class="fs-14 medium-text mt-1">{{form.get('searchType').value}}</span>
        <mat-icon [matMenuTriggerFor]="menu">keyboard_arrow_down</mat-icon>
        <mat-menu #menu="matMenu">
          <button mat-menu-item *ngFor="let category of categoryOptions; index as i;"
            (click)="selectCustom(category.name, i)">
            {{category.name | titlecase}}
            <mat-icon *ngIf="category.icon">
              {{category.icon}}
            </mat-icon>
          </button>
        </mat-menu>
        <mat-icon (click)="clear(formDirective)">clear</mat-icon>
      </div>
    </mat-form-field>
  </form>
</div>
