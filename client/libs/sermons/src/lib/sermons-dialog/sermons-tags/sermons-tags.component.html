<div [formGroup]="tagsGroup">
  <mat-form-field class="w-100 mt-3">
    <mat-label>Tags</mat-label>

    <mat-chip-list #chipList>
      <mat-chip *ngFor="let selectedTag of selectedTags"
                selectable="true"
                removable="true" (removed)="remove(selectedTag)">
        {{selectedTag.value}}
        <mat-icon matChipRemove>cancel</mat-icon>
      </mat-chip>

      <input matInput type="text" placeholder="Please select a tag or create"
              #tagsInput
              formControlName="value"
              [matAutocomplete]="auto"
              [matChipInputFor]="chipList"
              [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
              [matChipInputAddOnBlur]="true"
              (matChipInputTokenEnd)="add($event)" />
    </mat-chip-list>

    <mat-autocomplete #auto="matAutocomplete" (optionSelected)="selected($event)">
      <mat-option *ngFor="let tag of filteredTags | async" [value]="tag.value">
        {{tag.value}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
</div>
